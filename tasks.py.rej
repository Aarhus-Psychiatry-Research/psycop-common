diff a/tasks.py b/tasks.py	(rejected hunks)
@@ -377,7 +377,7 @@ def test(
             print(f"FAILED {msg_type.FAIL} #{line_sans_suffix}     ")
 
     if test_result.return_code != 0:
-        exit(0)
+        exit(test_result.return_code)
 
 
 def test_for_rej():
